<html>
    <head>
    <script>

        function addPx(str)
        { return str + "px"; }

        function genIndSquare(index, val, WidthSum){
            var square = document.createElement("div");
            square.style.position = "absolute";
            var leftOff = 50 * index + 5;
            square.style.left = addPx(leftOff);
            square.style.width = addPx(40);

            var newHeight = 50 * val;
            square.style.height = addPx(newHeight); 
            
            var bot = 50 * 10;
            var newTop = bot - newHeight;

            square.style.top = addPx(newTop);
            square.style.background = "red";
            square.innerHTML = "divEle";
            var incSum = index == 0? 45: 50;
            WidthSum.val = WidthSum.val + incSum;
            return square;    
        }

        function createColumn(topVal, leftVal, widthVal, heightVal){
            var points = [1, 2, 3, 4, 5, 2, 7, 6, 4];
            var container = document.getElementById("container");
            var WidthSum = {val:0};
            for(iter = 0; iter < points.length && WidthSum.val <= widthVal; ++iter)
            { container.appendChild(genIndSquare(iter, points[iter], WidthSum));  }
        }

        function createChart(topVal, leftVal, widthVal, heightVal){
            clearScr();
            var colHeightVal = heightVal * 0.9;
            createColumn(topVal, leftVal, widthVal, colHeightVal);
        }

        function clearScr(){
            var container = document.getElementById("container");
            while(container.firstChild){ 
                container.removeChild(container.firstChild);
            }
        }

    </script>
    </head>
    <body> hello
        <p id = "demo"> A paragraph</p>
        <div id ="container" name = "container"> this is container </div>
        <button type = "button" onclick = "createChart(0, 0, 100, 500)">Try 1</button>
        <button type = "button" onclick = "createChart(0, 0, 200, 500)">Try 2</button>
        <button type = "button" onclick = "createChart(0, 0, 300, 500)">Try 3</button>
        <button onclick = "createChart(0, 0, 400, 500)"> Try create</button>
    </body>
</html>
